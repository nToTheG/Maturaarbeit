\chapter{\chapTwo}
\label{sec:kapitel2} % Label for hyperlink

% Start font-size
\begingroup
\fontsize{12pt}{14pt}\selectfont

\section{OpenCV}
\label{sec:ocv} % Label for hyperlink
OpenCV steht für \enquote{Open Source Computer Vision Library} und ist eine der umfangreichsten Bibliotheken für die Echtzeit-Verarbeitung visueller Daten. Das \enquote{Open} im Namen weist darauf hin, dass es sich um ein Open-Source-Projekt handelt. Der Quelltext ist also öffentlich zugänglich und darf unter Einhaltung der Lizenzbedingungen verändert und kostenfrei verwendet werden. OpenCV stellt mehrere sogenannte \textit{Dictionaries} bereit, die im Folgenden als \enquote{Bibliotheken} bezeichnet werden.
Die Bibliothek OpenCV wurde in C\texttt{++} implementiert, um eine hohe Rechenleistung, Plattformunabhängigkeit und eine modulare Struktur zu gewährleisten. Auf Basis des C\texttt{++}-Kerns sind später Schnittstellen für Python, Java und andere Sprachen entstanden, die die Nutzung der Bibliothek erleichtern \cite{ocv:org}\footnote{\url{opencv.org/about}}.

\subsection{Einsatzbereiche}
OpenCV findet Anwendung in vielen Bereichen der Bildverarbeitung. Die Bibliothek eignet sich insbesondere für Aufgaben, die eine effiziente Verarbeitung von Bildern und Videos in Echtzeit erfordern. 
Einige typische Beispiele sind in der folgenden Liste dargestellt \cite{Wiki:ocv}.

\begin{minipage}{0.55\textwidth}
    \begin{enumerate}
        \item Automatisierte Gesichtserkennung
        \item Gestenerkennung
        \item Bewegungsanalyse
        \item Objektidentifizierung
    \end{enumerate}
\end{minipage}
\hfill
\begin{minipage}{0.4\textwidth}
    \begin{figure}[H]
        \centering
            \includegraphics[width=0.5\textwidth]{ocv_logo.pdf}
        \caption{Logo von OpenCV \cite{ocv:org}.}
            \label{fig:ocv_logo}
    \end{figure}
\end{minipage}

Abgesehen von diesen klassischen Anwendungsfeldern wird OpenCV auch zunehmend in Forschungsprojekten genutzt, beispielsweise zur Gesten- oder Marker-basierten Steuerung von Robotiksystemen, wie sie im Rahmen dieser Arbeit zum Einsatz kommt \cite{sse:foodDel}.

\subsection{Module}
OpenCV ist modular aufgebaut. Die Bibliothek besteht aus mehreren unabhängigen, aber miteinander kompatiblen Modulen, die jeweils bestimmte Aufgabenbereiche der Bildverarbeitung abdecken. 
Durch diesen Aufbau können nur jene Module eingebunden werden, die für ein Projekt tatsächlich benötigt werden, was den Speicherbedarf reduziert und die Effizienz erhöht. In \autoref{tab:ocvModules} sind drei zentrale Module von OpenCV aufgeführt:

\begin{table}[H]
    \begin{tabularx}{\textwidth}{l X}

        \toprule
        \multicolumn{1}{c}{\textbf{Modul}} & \multicolumn{1}{c}{\textbf{Beschreibung}} \\
        \midrule

        \texttt{core} & Das core-Modul ist das Grundgerüst von OpenCV. Es stellt grundlegende Datenstrukturen, Matrizenoperationen und mathematische Funktionen bereit, die von anderen Modulen verwendet werden.\\
        \addlinespace[3pt]

        \texttt{imgproc} & Das imgproc-Modul bietet eine umfassende Reihe von Bildverarbeitungsfunktionen.\\
        \addlinespace[3pt]

        \texttt{aruco} & Das aruco-Modul ermöglicht die Erkennung und Verarbeitung von \hyperref[sec:aruco]{\textit{ArUco-Markern}}. Es kann die Position und Orientierung der Marker berechnen und ist das wichtigste Modul dieser Arbeit.\\
        \bottomrule
    \end{tabularx}
    \caption{Wichtige Module der OpenCV-Bibliothek.}
    \label{tab:ocvModules}
\end{table}

Die modulare Struktur erlaubt es, OpenCV sowohl in ressourcenbeschränkten Systemen, wie zum Beispiel bei Drohnen oder eingebetteten Geräten, als auch in komplexen Computer-Vision-Projekten effizient einzusetzen.

\section{ArUco-Marker}
\label{sec:aruco}
Ein ArUco-Marker (wie in \autoref{fig:marker0} dargestellt) ist ein quadratischer Referenzmarker, der zur Positions- und Orientierungserkennung in Bildern bzw. Kamerasystemen zum Einsatz kommt. Referenzmarker (auch Passermarken) werden ursprünglich in automatisierten Fertigungsverfahren von elektronischen Bauelementen wie beispielsweise Hauptplatinen verwendet. Sie dienen als optische Referenzpunkte für die Maschinen, die am Fertigungsprozess beteiligt sind. Dadurch erhöhen sie die Präzision und reduzieren Kurzschlüsse \cite{Wiki:Passermarke}.
Es gibt Referenzmarker in verschiedenen Grössen, Farbschemen und Formen, abhängig von ihrem Einsatzgebiet. Für diese Arbeit werden aus folgenden Gründen quadratische benutzt:

\begin{itemize}
    \item Die Erkennung der Marker erfolgt schnell und effizient, was bei Echtzeitsteuerung vorteilhaft ist.
    \item Quadratische Marker werden häufig gebraucht und sind daher ausführlicher dokumentiert als andere.
    \item Sie sind relativ einfach einzusetzen.
\end{itemize}

ArUco-basierte Marker zählen zu den verlässlichsten, vor allem seit \hyperref[sec:ocv]{OpenCV} ein Submodul zur Implementierung dieser Marker hinzugefügt hat \cite{IJ:fiducial}.

\begin{figure}[H]
    \centering
        \includegraphics[width=0.3\textwidth]{aruco.pdf}
    \caption{ArUco-Marker mit ID 0. Generiert von \cite{chev:arucogen}}.
        \label{fig:marker0}
\end{figure}

\subsection{Funktionsweise}
Das Schwarzweiss-Schema von ArUco-Markern erinnert an das eines QR-Codes. Während beide einem ähnlichen Zweck dienen, nämlich der visuellen Identifizierung von Objekten, ist ihr geometrischer Aufbau grundverschieden \cite{ten:qrcode}.
Die Fabrikation von QR-Codes beruht auf drei Hauptbestandteilen:

\begin{enumerate}
    \item Menge der codierten Information.
    \item Modus, in dem die Daten codiert wurden.
    \item Stärke der Fehlerkorrekturfunktion.
\end{enumerate}

Der entscheidende Unterschied zwischen dieser Funktionsweise und der von ArUco-Markern ist der Informationgehalt. Bei ArUco-Markern existiert dieser nicht. Sie sind nicht eine binäre Übersetzung einer vordefinierten Eingabe, sondern sind in nummerierten Bibliotheken angelegt und besitzen keine versteckte Botschaft. Es gibt keinen Algorithmus, der Klartext in einen ArUco-Marker übersetzt. Dieses Konzept hat seine Vor- und Nachteile. Einerseits erhöht es die Geschwindigkeit der Identifizierung, andererseits limitiert es die Gesamtmenge aller Marker. Diese Bedingungen sind jedoch ideal für dieses Projekt, da nur wenige verschiedene Marker benötigt werden und Effizienz gefragt ist.
Um einen gesuchten Marker in den Bibliotheken zu finden, braucht man den Namen der Bibliothek und die ID des Markers. Der Name der Bibliothek legt die Grösse der Matrix und somit Komplexität des Markers fest sowie die Anzahl möglicher Marker.

\begin{table}[H]
    \centering
    \begin{tabular}{lcc}
        \toprule
        \textbf{Bibliothek} & \textbf{Datenbits} & \textbf{Markeranzahl} \\
        \midrule

        \bodyCode{DICT\_4X4\_50} & 16 & 50 \\
        \addlinespace[3pt]

        \bodyCode{DICT\_4X4\_100} & 16 & 100 \\
        \addlinespace[3pt]

        \bodyCode{DICT\_5X5\_50} & 25 & 50 \\
        \bottomrule
    \end{tabular}
    \caption{Eigenschaften ausgewählter ArUco-Dictionaries.}
        \label{tab:arucoDicts}
\end{table}

In der Tabelle \autoref{tab:arucoDicts} sind drei Bibliotheken und deren Eigenschaften dargestellt. Es ist zu beachten, dass alle Marker der Bibliothek \bodyCode{DICT\_4X4\_50} auch in \bodyCode{DICT\_4X4\_100} vorhanden sind, da die größere Bibliothek alle IDs der kleineren umfasst. Für dieses Projekt wird die Bibliothek \bodyCode{DICT\_4X4\_50} verwendet, weil es die geometrisch unkomplizierteste Bibliothek ist, die OpenCV unterstützt. Das ist insofern wichtig, weil die Markern letztendlich unter Winkeln bis zu 45° erkennbar sein sollen. Da weitaus weniger als fünfzig Marker benötigt werden, reicht die \bodyCode{\_50} Bibliothek aus.

\section{Mathematische Grundlagen}

\subsection{Flächenberechnung mit gaussschen Trapezformel}

\section{Crazyflie 2.0}

\subsection{cflib}

\section{Crazyradio PA}

% End font-size
\endgroup